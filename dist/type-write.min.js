/*! type-write.js / @version:1.0.3 @author:leader22 <y.sugiura.0316@gmail.com> @license:MIT */ 
!function(t,e){"use strict";function i(t,e){e&&(this._typeWriteSetting=f(this._setting.typeWriteSetting,e)),this._refreshTextElm(),this._parseAndTypeWrite(t)}function n(){this._resetTransition()}function r(t){var e,i=this._metaChar,n=this._typeWriteSetting,r=!1,s=!1,a=!1,o="",l=0,h=0,_=0,f=t.length,u=f-1;for(this._buffer=document.createDocumentFragment(),this._onStart&&this._onStart();f>h;h++){if(e=t[h],a=h===u,e===i.START_TAG&&(r=!0),r){switch(e){case i.END_TAG:r=!1,e="";break;case i.BR:this._addBr();break;case i.START_WRAP:s=!0;break;case i.END_WRAP:s=!1,o=""}if(s&&r)switch(e){case i.START_WRAP:break;default:o+=e}if(!a)continue}this._addTransitionSpan(e,_++,l,o,a),y.test(e)?l+=n.commaWait:T.test(e)&&(l+=n.periodWait)}this._textElm.appendChild(this._buffer)}function s(){for(var t=this._textElm;t.firstChild;)t.removeChild(t.firstChild);if(t.nodeType===E){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}}function a(){var t=document.createElement("br");this._buffer.appendChild(t)}function o(t,e,i,n,r){var s=this._typeWriteSetting,a=s.talkDelay*(e+1)+i,o=document.createElement("span");if(o.textContent=t,o.style.opacity=0,this._applyPrefixStyle(o,"transition",["opacity",s.duration+"s","linear",a+"s"].join(" ")),n&&(o.className=n),this._buffer.appendChild(o),setTimeout(function(){o.style.opacity=1}),r){var l=1e3*(s.duration+a),h=this;h._onEndTimer=setTimeout(function(){h._dispose()},l)}}function l(){var t=this._textElm.childNodes;for(var e in t)"SPAN"===t[e].tagName&&this._applyPrefixStyle(t[e],"transition","");this._dispose()}function h(t,e,i){t.style[e]=i;var n=this._setting.prefix;e=d(e);for(var r=0,s=n.length;s>r;r++)t.style[n[r]+e]=i}function _(){clearTimeout(this._onEndTimer),this._onEndTimer=null,this._onEnd&&this._onEnd()}function f(t,i){i=i||{};var n,r={};for(n in t)r[n]=t[n];for(n in i)i[n]!==e&&(r[n]=i[n]);return r}function u(e){var i;return i="string"==typeof e?t.document.querySelectorAll(e)[0]:e.length>1?e[0]:e}function d(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}var p={talkDelay:.04,duration:.5,commaWait:1,periodWait:2},c={START_TAG:"{",END_TAG:"}",BR:"|",START_WRAP:"<",END_WRAP:">"},m={textElm:"#text",prefix:["webkit","moz","o","ms"],typeWriteSetting:p,metaChara:c,onStart:null,onEnd:null},y=/[,\u3001\uFF64]/,T=/[\.\u3002\uFF61]/,E=t.Node.ELEMENT_NODE,S=function(t){return this._setting=f(m,t),this._typeWriteSetting=f(p,this._setting.typeWriteSetting),this._metaChar=f(c,this._setting.metaChara),this._textElm=u(this._setting.textElm),this._onStart=this._setting.onStart||null,this._onEnd=this._setting.onEnd||null,this._buffer=null,this._onEndTimer=null,this};S.prototype={constructor:S,start:i,skip:n,_parseAndTypeWrite:r,_refreshTextElm:s,_addBr:a,_addTransitionSpan:o,_resetTransition:l,_applyPrefixStyle:h,_dispose:_};var g="function"==typeof t.define&&t.define.amd,A="object"==typeof t.exports&&t.exports;g?define([],function(){return S}):A?module.exports=S:t.TypeWrite=S}(window);