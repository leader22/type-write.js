/*! type-write.js / @version:1.1.0 @author:leader22 <y.sugiura.0316@gmail.com> @license:MIT */ 
!function(t,e){"use strict";function i(t,e,i){e&&(this._typeWriteSetting=d(this._setting.typeWriteSetting,e)),i&&"function"==typeof i&&(this._onTypeWriteEndCb=i),this._refreshTextElm(),this._parseAndTypeWrite(t)}function n(){this._resetTransition()}function r(t){var e,i=this._metaChar,n=this._typeWriteSetting,r=!1,s=!1,o=!1,a="",h=0,l=0,_=0,d=t.length,f=d-1;for(this._buffer=document.createDocumentFragment(),this._onStart&&this._onStart();d>l;l++){if(e=t[l],o=l===f,e===i.START_TAG&&(r=!0),r){switch(e){case i.END_TAG:r=!1,e="";break;case i.BR:this._addBr();break;case i.START_WRAP:s=!0;break;case i.END_WRAP:s=!1,a=""}if(s&&r)switch(e){case i.START_WRAP:break;default:a+=e}if(!o)continue}this._addTransitionSpan(e,_++,h,a,o),m.test(e)?h+=n.commaWait:T.test(e)&&(h+=n.periodWait)}this._textElm.appendChild(this._buffer)}function s(){for(var t=this._textElm;t.firstChild;)t.removeChild(t.firstChild);if(t.nodeType===E){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}}function o(){var t=document.createElement("br");this._buffer.appendChild(t)}function a(t,e,i,n,r){var s=this._typeWriteSetting,o=s.talkDelay*(e+1)+i,a=document.createElement("span");if(a.textContent=t,a.style.opacity=0,this._applyPrefixStyle(a,"transition",["opacity",s.duration+"s","linear",o+"s"].join(" ")),n&&(a.className=n),this._buffer.appendChild(a),setTimeout(function(){a.style.opacity=1}),r){var h=1e3*(s.duration+o),l=this;l._onEndTimer=setTimeout(function(){l._dispose()},h)}}function h(){for(var t,e=this._textElm.childNodes,i=0,n=e.length;n>i;i++)t=e[i],"SPAN"===t.tagName&&this._applyPrefixStyle(t,"transition","");this._dispose()}function l(t,e,i){t.style[e]=i;var n=this._setting.prefix;e=u(e);for(var r=0,s=n.length;s>r;r++)t.style[n[r]+e]=i}function _(){clearTimeout(this._onEndTimer),this._onEndTimer=null,this._onTypeWriteEndCb&&(this._onTypeWriteEndCb(),this._onTypeWriteEndCb=null),this._onEnd&&this._onEnd()}function d(t,i){i=i||{};var n,r={};for(n in t)r[n]=t[n];for(n in i)i[n]!==e&&(r[n]=i[n]);return r}function f(e){var i;return i="string"==typeof e?t.document.querySelectorAll(e)[0]:e.length>1?e[0]:e}function u(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}var p={talkDelay:.04,duration:.5,commaWait:1,periodWait:2},c={START_TAG:"{",END_TAG:"}",BR:"|",START_WRAP:"<",END_WRAP:">"},y={textElm:"#text",prefix:["webkit","moz","o","ms"],typeWriteSetting:p,metaChara:c,onStart:null,onEnd:null},m=/[,\u3001\uFF64]/,T=/[\.\u3002\uFF61]/,E=t.Node.ELEMENT_NODE,S=function(t){return this._setting=d(y,t),this._typeWriteSetting=d(p,this._setting.typeWriteSetting),this._metaChar=d(c,this._setting.metaChara),this._textElm=f(this._setting.textElm),this._onStart=this._setting.onStart||null,this._onEnd=this._setting.onEnd||null,this._buffer=null,this._onEndTimer=null,this._onTypeWriteEndCb=null,this};S.prototype={constructor:S,start:i,skip:n,_parseAndTypeWrite:r,_refreshTextElm:s,_addBr:o,_addTransitionSpan:a,_resetTransition:h,_applyPrefixStyle:l,_dispose:_};var W="function"==typeof t.define&&t.define.amd,g="object"==typeof t.exports&&t.exports;W?define([],function(){return S}):g?module.exports=S:t.TypeWrite=S}(window);